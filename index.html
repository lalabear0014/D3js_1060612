<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
</head>
<body>
    <svg width="1900" height="1500"></svg>
            
    <script>
        var body = d3.select("body");

        d3.json("invoice-taipei.json", function(dataSet){
            var svg = d3.select("svg");
            var fDataSet = dataSet.filter(function(d){
                return d.date === "2016/8/1" && d.city === "臺北市" && d.amount>1000000000;
            });

            for(var i=0; i<fDataSet.length; i++){
                svg.append("text").attr({
                                    x: 10,
                                    y: 20+25*i,
                                    "text-anchor": "start",
                                    fill: "black" }).text(fDataSet[i].industry);
                svg.append("rect").attr({
                                     x: 300,
                                     y: 10+25*i,
                                     width: fDataSet[i].number/100000,
                                     height: 20,
                                     fill: "red" });               
            }
        });
    </script>
</body>
</html>
